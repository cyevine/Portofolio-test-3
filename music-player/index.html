<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
</head>
<body>
    <!-- Pemutar musik -->
    <div id="music-player" style="position: fixed; bottom: 0; left: 0; width: 100%; background: #eee; padding: 10px;">
        <audio id="audio-player" controls>
            <source src="lagu-anda.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>

    <!-- Navigasi -->
    <nav>
        <a href="index.html">Home</a>
        <a href="comission.html" onclick="navigate(event, 'comission.html')">Comission</a>
        <a href="wipp.html" onclick="navigate(event, 'wipp.html')">Wipp</a>
        <a href="galeri.html" onclick="navigate(event, 'galeri.html')">Galeri</a>
    </nav>

    <!-- Konten -->
    <div id="content">
        <h1>Selamat datang di halaman utama!</h1>
    </div>

    <script>
        // Menyimpan state audio
        const audioPlayer = document.getElementById('audio-player');
        const contentDiv = document.getElementById('content');

        function navigate(event, page) {
            event.preventDefault();
            fetch(page)
                .then(response => response.text())
                .then(html => {
                    contentDiv.innerHTML = html;
                });
        }

        // Menyimpan posisi audio saat reload
        window.addEventListener('beforeunload', () => {
            localStorage.setItem('audioTime', audioPlayer.currentTime);
            localStorage.setItem('audioPlaying', !audioPlayer.paused);
        });

        // Memuat posisi audio sebelumnya
        window.addEventListener('load', () => {
            const savedTime = localStorage.getItem('audioTime');
            const wasPlaying = localStorage.getItem('audioPlaying') === 'true';

            if (savedTime) {
                audioPlayer.currentTime = parseFloat(savedTime);
            }
            if (wasPlaying) {
                audioPlayer.play();
            }
        });
    </script>
</body>
</html>
