<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VN Portfolio - Opening</title>
  <style>
    /* ...semua CSS kamu tidak berubah... */
  </style>
</head>
<body>
  <!-- Awan, OC, dialog box, nama, opsi, kontrol audio, start -->
  <div class="cloud"></div>
  <div class="cloud" style="top: 120px; animation-delay: 15s;"></div>
  <div class="cloud" style="top: 200px; animation-delay: 30s;"></div>

  <img src="oe talking.png" alt="OC" class="character" id="ocImage" />
  <div class="name-box" id="nameBox">Cyevine</div>
  <div class="dialogue-box" id="dialogue" style="display: none;">Welcome! Kesini mau ngapain nich?</div>
  <div class="options-box" id="options">
    <button class="option-btn" onclick="goTo('commission.html')">Mau komisi dong</button>
    <button class="option-btn" onclick="goTo('wip.html')">Mau liat WIP-mu nich</button>
    <button class="option-btn" onclick="goTo('gallery.html')">Mau liat portofoliomu dong</button>
  </div>
  <div class="audio-controls">
    <button onclick="toggleAudio()" id="audioToggle">ðŸ”Š</button>
  </div>
  <button class="start-button" id="startButton">Start</button>
  <audio id="bgm" src="Dosi & Aisake - Cruising  Lofi  NCS - Copyright Free Music.mp3" loop></audio>

  <script>
    const bgm = document.getElementById('bgm');
    const audioToggle = document.getElementById('audioToggle');
    const optionsBox = document.getElementById('options');
    const dialogueBox = document.getElementById('dialogue');
    const startButton = document.getElementById('startButton');
    const nameBox = document.getElementById('nameBox');
    const ocImage = document.getElementById('ocImage');

    const dialogues = [
      {
        text: "Welcome! Kesini mau ngapain nich?",
        img: "oe talking.png"
      },
      {
        text: "Aku bisa bantu banyak hal loh~",
        img: "oe smile.png"
      },
      {
        text: "Pilih aja ya, jangan malu-malu~",
        img: "oe wink.png"
      },
      {
        text: "Kalo kamu ragu, aku bisa kasih rekomendasi!",
        img: "oe thinking.png"
      },
      {
        text: "Gambarku ada yang lucu, ada juga yang edgy~",
        img: "oe mischievous.png"
      },
      {
        text: "Yuk cus, pilih yang paling menarik buat kamu!",
        img: "oe excited.png"
      }
    ];

    let currentLine = 0;

    if (sessionStorage.getItem("started") === "true") {
      startButton.style.display = 'none';
      dialogueBox.style.display = 'block';
      ocImage.style.display = 'block';
      nameBox.style.display = 'block';
      optionsBox.style.display = 'flex';
    }

    startButton.addEventListener('click', () => {
      bgm.play();
      audioToggle.textContent = 'ðŸ”Š';
      startButton.style.display = 'none';
      dialogueBox.style.display = 'block';
      ocImage.style.display = 'block';
      nameBox.style.display = 'block';
      sessionStorage.setItem("started", "true");
    });

    dialogueBox.addEventListener('click', () => {
      if (currentLine < dialogues.length - 1) {
        currentLine++;
        dialogueBox.textContent = dialogues[currentLine].text;
        ocImage.src = dialogues[currentLine].img;
      } else {
        if (optionsBox.style.display !== 'flex') {
          optionsBox.style.display = 'flex';
          dialogueBox.style.pointerEvents = 'none';
        }
      }
    });

    function toggleAudio() {
      if (bgm.paused) {
        bgm.play();
        audioToggle.textContent = 'ðŸ”Š';
      } else {
        bgm.pause();
        audioToggle.textContent = 'ðŸ”‡';
      }
    }

    function goTo(page) {
      sessionStorage.setItem("lastPage", page);
      document.body.style.transition = 'opacity 0.5s';
      document.body.style.opacity = 0;
      setTimeout(() => {
        window.location.href = page;
      }, 500);
    }

    window.onpopstate = function() {
      const lastPage = sessionStorage.getItem("lastPage");
      if (lastPage) {
        window.location.href = lastPage;
      }
    };
  </script>
</body>
</html>
